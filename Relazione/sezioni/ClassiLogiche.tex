\section{Classi logiche}{
	\subsection{Gerarchia oggetti memorizzati}{
		La gerarchia sviluppata è composta da 5 classi: 
		
		\begin{figure}[h]
			\center
			\includegraphics[width=0.5\textwidth]{\docsImg gerarchia.jpg}
			\caption{Gerarchia delle classi}
		\end{figure} 
		
		La classe \textbf{LibraryItem} rappresenta un oggetto generico inserito nella libreria, per questo motivo ho scelto di renderla polimorfa ed astratta: non è possibile dichiarare oggetti di questa classe. All'interno di questa classe sono memorizzati gli attributi comuni a tutti gli oggetti della gerarchia: \textit{titolo,genere}, entrambi di tipo QString. \\
		Per questa classe e per le altre classi nella gerarchia verranno resi disponibili:
		\begin{itemize}\itemsep=0.5pt
			\item Un costruttore di defalut ed un costruttore per i campi dati della classe;
			\item Un distruttore virtuale;
			\item Un metodo \textit{clone} che restituisce il puntatore ad un copia all'oggetto su cui viene invocato;
			\item Un operatore di uguaglianza ed uno di disuguaglianza;
			\item Metodi \textbf{get} che restituiscono una copia dei campi dati, per ogni campo dati richiesto.
		\end{itemize}
			Le classi  \textbf{Libro, CD, Film} sono classi derivate direttamente dalla classe base \textbf{Utente}; sono tutte concrete, a differenza di \textbf{Film},  polimorfa ed astratta come \textbf{LibraryItem}. \\
			Le classi \textbf{DVD, VHS} sono classi concrete derivate da \textbf{Film}. \\
			Per quanto riguarda i campi dati:
			\begin{itemize}\itemsep=0.5pt
				\item La classe \textbf{Libro} contiene:
				\begin{itemize}\itemsep=0.5pt
					\item Un \textit{autore}, memorizzato tramite un QString;
					\item Un \textit{anno di uscita}, memorizzato tramite un intero;
					\item Un \textit{editore}, memorizzato tramite un QString.
				\end{itemize}
				\item La classe \textbf{Film} contiene:
				\begin{itemize}\itemsep=0.5pt
					\item Un \textit{regista}, memorizzato tramite un QString;
					\item Una \textit{durata} in minuti, memorizzata tramite un intero;
					\item Una \textit{data d'uscita}, memorizzata tramite un QDate.
					%\item Un insieme di attori \textit{attori}, memorizzato tramite un QVector di QString.
				\end{itemize}
				\item La classe \textbf{CD}  contiene:
				\begin{itemize}\itemsep=0.5pt
					\item Un \textit{artista}, memorizzato tramite un QString;
					\item Un \textit{anno di uscita}, memorizzato tramite un intero;
					\item Un \textit{numero di dischi}, memorizzato tramite un intero.
					%\item Un insieme di \textit{tracce}, memorizzato tramite un QVector di QString;
				\end{itemize}
				\item Le classi \textbf{CD, DVD} sono implementazioni di \textbf{Film}; non contengono ulteriori campi dati. Per ognuna sono resi disponibili i costruttori, un distruttore, il metodo clone, operator == e !=.
			\end{itemize}
		}
		\subsection{Classe contenitore}{
			Per memorizzare gli oggetti della biblioteca è stato creato il template di classe \textbf{Contenitore}. \\
			La classe è amica di \textit{operator<<}, della classe \textbf{iterator} e della classe \textit{const\_iterator}; all'interno di \textbf{Contenitore} è dichiarata \underline{privata} la classe \textbf{ContainerItem}; sono invece \underline{pubbliche} le classi \textbf{Iterator}, \textbf{const\_Iterator}.\\
			\subsubsection{ContainerItem}{
				La classe è caratterizzata da:
				\begin{itemize}\itemsep=0.5pt
					\item l'oggetto \textit{info};
					\item puntatore all'oggetto \textbf{ContainerItem} successivo;
					\item il costruttore di default ed il costruttore a 2 parametri;
					\item operatore d'uguaglianza e disuguaglianza;
					\item il distruttore di default.
				\end{itemize}
				Essendo la classe racchiusa nella parte privata, tutti i campi dati ed i metodi sono stati dichiarati pubblici.
			}
			\subsubsection{Iterator}{
				La classe è caratterizzata da:
				\begin{itemize}\itemsep=0.5pt
					\item la dichiarazione di amicizia con la classe \textbf{Container}
					\item un puntatore a \textbf{ContainerItem}, dichiarato \underline{privato};
					\item costruttore di default;
					\item operatore d'uguaglianza e disuguaglianza;
					\item operatori d'indirezione ed indicizzazione;
					\item operator ++ prefisso, postfisso;
					%\item metodo \textit{getPunt} per ottenere il puntatore all'oggetto \textbf{ContainerItem}.
				\end{itemize}
			}
			\subsubsection{const\_Iterator}{
				La classe è caratterizzata da:
				\begin{itemize}\itemsep=0.5pt
					\item la dichiarazione di amicizia con la classe \textbf{Container}
					\item un puntatore a \textbf{ContainerItem}, dichiarato \underline{privato};
					\item costruttore di default;
					\item operatore d'uguaglianza e disuguaglianza;
					\item operator ++ prefisso, postfisso;
					\item operatori d'indirezione ed indicizzazione;
					\item convertitore a \textbf{Iterator};
					%\item metodo \textit{getPunt} per ottenere il puntatore all'oggetto \textbf{ContainerItem}.
				\end{itemize}
			}
			\subsubsection*{Metodi di Container}{
		Sono dichiarati privati:
			\begin{itemize}\itemsep=0.3pt
				\item un metodo \textit{getInfo} per ottenere copia dell'oggetto \textit{info};
				\item puntatore al primo \textbf{ContainerItem};
				\item un metodo dichiarato statico \textit{deepcopy} che fa una copia profonda della lista;
				\item un metodo dichiarato statico \textit{deepremove} che esegue la distruzione profonda della lista;
				\item un metodo dichiarato statico \textit{equals} che, dati due puntatori a \textbf{ContainerItem}, l'uguaglianza delle liste puntate.
				\item un metodo dichiarato statico \textit{printcontainer} per effetturare la stampa su ostream.
			\end{itemize}
			Sono pubblici:
			\begin{itemize}\itemsep=0.3pt
				\item metodi \textit{begin}, \textit{end}, che rispettivamente ritornano l'iteratore al primo nodo della lista ed un iteratore che punta ad un nodo vuoto (come quando si sta scorrendo la lista e non si è ancora arrivati al past-the-end);
				\item l'operatore di dereferenziazione che restituisce un riferimento all'oggetto puntato da un'iteratore;
				\item un costruttore di default;
				\item il costruttore di copia (profonda);
				\item l'operatore d'assegnazione (profonda);
				\item overloading del distruttore di default per fare la distruzione profonda;
				\item metodo \textit{isEmpty} che dice se il contenitore è vuoto;
				\item metodo \textit{insert} per inserire in testa un nuovo elemento nel contenitore;
				\item metodo \textit{remove} per rimuovere un elemento;
				\item metodo \textit{size}, restituisce il numero d'elementi presenti nel contenitore;
				\item metodo \textit{replace} per sostituire un elemento con un altro;
				\item operatori d'uguaglianza, disuguaglianza;
				\item metodo \textit{search} che restituisce un nuovo contenitore dove sono memorizzati gli elementi che corrispondono alla ricerca;
				\item i metodi \textit{load, save} per salvare su file e caricare da file il contenuto della libreria.
			\end{itemize}
			}
		}
		\subsection{Classe Puntatore Smart}{
			È stata definita una classe di puntatori smart, \textbf{SmartPtr}, che ha come campo dati \underline{privato} un puntatore ad un oggetto della superclasse \textbf{LibraryItem}. \\
			I metodi che sono stati resi disponibili per questa classe sono i metodi d'utilità per una classe di puntatori:
			\textit{costruttore di default e ad un argomento, costruttore di copia}, overloading degli operatori di: \textit{assegnazione, uguaglianza, disuguaglianza, indicizzazione, indirezione; distruttore} di default. Si è infine definito un metodo \textit{getItem} che restituisce copia dell'oggetto puntato.
		}
		\subsection{Classe Biblio}{
			Questa classe serve a concretizzare la classe templetizzata \textbf{Container} con le classi della gerarchia radicata in \textbf{LibaryItem}, rendendo disponibili metodi di utilità che serviranno all'applicazione. Contiene:
			\begin{itemize}\itemsep=0.5pt
				\item Un \textbf{Container} di puntatori a \textbf{LibraryItem};
				\item Un \textit{distruttore} ed un metodo \textit{isEmpty} che dice se non sono presenti elementi nella biblioteca;
				\item Un  metodo \textit{addItem}, che aggiunge un nuovo elemento alla biblioteca. Restituisce un booleano che indica la presenza di un'uguale opera all'interno della libreria. Sono permesse più copie d'uno stesso elemento.
				\item Un metodo \textit{removeItem} per togliere un elemento dalla biblioteca;
				\item Un metodo \textit{getItem} che data una posizione \textit{i}, restituisce l'i-esimo elemento nel \textbf{Container};
				\item Un metodo \textit{findItem} che data una \textbf{QString}, restituisce tutti gli elementi all'interno della biblioteca che ..
				\item Il metodo \textit{load} che carica da file il contenuto della biblioteca.
				\item Il metodo \textit{save} che su file il contenuto della biblioteca, in formato \textbf{XML}.
				
			\end{itemize}
		}
	}